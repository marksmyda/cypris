<div>Query</div>
<input type="text" (input)="onQueryChange($event)" placeholder="Enter search query" size="200">

<div>Limit</div>
<input type="text" (input)="onLimitChange($event)" placeholder="Limit results" size="10" [formControl]="numericControl">

<div class="card flex justify-center">
    <p-button (click)="fetch()" label="Check" />
</div>

<p-table [value]="[data]">
    <ng-template pTemplate="header">
        <tr>
          <th>Total Hits</th>
          <th>Limit</th>
          <th>Offset</th>
          <th>Search ID</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-data>
        <tr>
          <td>{{ data.totalHits }}</td>
          <td>{{ data.limit }}</td>
          <td>{{ data.offset }}</td>
          <td>{{ data.searchId }}</td>
        </tr>
    </ng-template>
</p-table>

<p-table [value]="data.results">
    <ng-template pTemplate="header">
        <tr>
            <th>DOI</th>
            <th>Published Date</th>
            <th>Authors</th>
            <th>Title</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-result>
        <tr>
            <td>{{ result.doi }}</td>
            <td>{{ result.publishedDate }}</td>
            <td>{{ getAuthorNames(result) }}</td>
            <td>{{ result.title }}</td>
        </tr>
    </ng-template>
</p-table>

<div class="chart-container" style="max-width: 500px;">
    <p-chart type="doughnut" [data]="fieldData" class="w-full md:w-[30rem]" />
</div>
